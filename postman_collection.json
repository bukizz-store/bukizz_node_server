{
  "info": {
    "name": "Bukizz School E-commerce API",
    "description": "Complete API collection for Bukizz School E-commerce platform with enhanced user profile management, authentication, and order processing",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{access_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5001",
      "type": "string"
    },
    {
      "key": "api_base",
      "value": "{{base_url}}/api/v1",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "order_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "product_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "school_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "address_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "variant_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üè• Health & Info",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/health",
            "description": "Check API server health and status"
          }
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/api",
            "description": "Get API version and available endpoints"
          }
        }
      ]
    },
    {
      "name": "üîê Authentication",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.tokens) {",
                  "        pm.collectionVariables.set('access_token', response.data.tokens.accessToken);",
                  "        pm.collectionVariables.set('refresh_token', response.data.tokens.refreshToken);",
                  "    }",
                  "    if (response.data && response.data.user) {",
                  "        pm.collectionVariables.set('user_id', response.data.user.id);",
                  "    }",
                  "    pm.test('Registration successful', function () {",
                  "        pm.expect(response.success).to.be.true;",
                  "        pm.expect(response.data.user).to.have.property('id');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/register",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"SecurePassword123!\"\n}"
            },
            "description": "Register a new user account"
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.tokens) {",
                  "        pm.collectionVariables.set('access_token', response.data.tokens.accessToken);",
                  "        pm.collectionVariables.set('refresh_token', response.data.tokens.refreshToken);",
                  "    }",
                  "    if (response.data && response.data.user) {",
                  "        pm.collectionVariables.set('user_id', response.data.user.id);",
                  "    }",
                  "    pm.test('Login successful', function () {",
                  "        pm.expect(response.success).to.be.true;",
                  "        pm.expect(response.data).to.have.property('tokens');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"SecurePassword123!\"\n}"
            },
            "description": "Authenticate user and get access tokens"
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data) {",
                  "        pm.collectionVariables.set('access_token', response.data.accessToken);",
                  "        pm.collectionVariables.set('refresh_token', response.data.refreshToken);",
                  "    }",
                  "    pm.test('Token refresh successful', function () {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/refresh-token",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
            },
            "description": "Refresh access token using refresh token"
          }
        },
        {
          "name": "Get Current User Profile",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/auth/me",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get current authenticated user's basic profile"
          }
        },
        {
          "name": "Verify Token",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/verify-token",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "description": "Verify if the current token is valid"
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/forgot-password",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
            },
            "description": "Request password reset email"
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/reset-password",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"resetToken\": \"reset_token_from_email\",\n  \"newPassword\": \"NewSecurePassword123!\"\n}"
            },
            "description": "Reset password using reset token"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/auth/logout",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "description": "Logout user and invalidate refresh token"
          }
        }
      ]
    },
    {
      "name": "üë§ User Profile Management",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/profile",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get comprehensive user profile information"
          }
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/users/profile",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe Updated\",\n  \"phone\": \"+91-9876543210\",\n  \"dateOfBirth\": \"1995-05-15\",\n  \"gender\": \"male\",\n  \"city\": \"Mumbai\",\n  \"state\": \"Maharashtra\"\n}"
            },
            "description": "Update user profile information"
          }
        },
        {
          "name": "Get User Addresses",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/addresses",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get all saved addresses for the user"
          }
        },
        {
          "name": "Add User Address",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.address) {",
                  "        pm.collectionVariables.set('address_id', response.data.address.id);",
                  "    }",
                  "    pm.test('Address added successfully', function () {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{api_base}}/users/addresses",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"label\": \"Home\",\n  \"line1\": \"123 Main Street\",\n  \"line2\": \"Apartment 4B\",\n  \"city\": \"Mumbai\",\n  \"state\": \"Maharashtra\",\n  \"country\": \"India\",\n  \"postalCode\": \"400001\"\n}"
            },
            "description": "Add a new address for the user"
          }
        },
        {
          "name": "Update User Address",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/users/addresses/{{address_id}}",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"label\": \"Work\",\n  \"line1\": \"456 Business District\",\n  \"city\": \"Mumbai\",\n  \"state\": \"Maharashtra\",\n  \"country\": \"India\",\n  \"postalCode\": \"400005\"\n}"
            },
            "description": "Update an existing address"
          }
        },
        {
          "name": "Delete User Address",
          "request": {
            "method": "DELETE",
            "url": "{{api_base}}/users/addresses/{{address_id}}",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Delete a user address"
          }
        },
        {
          "name": "Get User Preferences",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/preferences",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get user preferences and settings"
          }
        },
        {
          "name": "Update User Preferences",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/users/preferences",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notifications\": {\n    \"order_updates\": true,\n    \"promotions\": false,\n    \"newsletters\": true,\n    \"product_recommendations\": true\n  },\n  \"privacy\": {\n    \"profile_visibility\": \"private\",\n    \"data_collection\": false,\n    \"marketing_emails\": false\n  }\n}"
            },
            "description": "Update user preferences and privacy settings"
          }
        },
        {
          "name": "Get User Statistics",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/stats",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get user activity statistics and metrics"
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/users/verify-email",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Verify user's email address"
          }
        },
        {
          "name": "Verify Phone",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/users/verify-phone",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Verify user's phone number"
          }
        },
        {
          "name": "Deactivate Account",
          "request": {
            "method": "DELETE",
            "url": "{{api_base}}/users/account",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"No longer needed\"\n}"
            },
            "description": "Deactivate user account"
          }
        }
      ]
    },
    {
      "name": "üõçÔ∏è Products",
      "item": [
        {
          "name": "Search Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.products && response.data.products.length > 0) {",
                  "        pm.collectionVariables.set('product_id', response.data.products[0].id);",
                  "    }",
                  "    pm.test('Response has products array', function () {",
                  "        pm.expect(response.data).to.have.property('products');",
                  "        pm.expect(response.data.products).to.be.an('array');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products?search=mathematics&page=1&limit=10&sort=price_asc",
            "description": "Search products with filters and pagination"
          }
        },
        {
          "name": "Get Product Details",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/{{product_id}}",
            "description": "Get detailed information about a specific product"
          }
        },
        {
          "name": "Get Featured Products",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/featured?limit=5",
            "description": "Get featured products for homepage"
          }
        },
        {
          "name": "Get Products by Category",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/category/textbooks?page=1&limit=10",
            "description": "Get products in a specific category"
          }
        },
        {
          "name": "Get Products by School",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/school/{{school_id}}?grade=Class%2010&page=1&limit=10",
            "description": "Get products associated with a specific school and grade"
          }
        },
        {
          "name": "Get Product Options",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/{{product_id}}/options",
            "description": "Get product option attributes and values (size, color, etc.)"
          }
        },
        {
          "name": "Get Product Variants",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.variants && response.data.variants.length > 0) {",
                  "        pm.collectionVariables.set('variant_id', response.data.variants[0].id);",
                  "    }",
                  "    pm.test('Response has variants array', function () {",
                  "        pm.expect(response.data).to.have.property('variants');",
                  "        pm.expect(response.data.variants).to.be.an('array');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/{{product_id}}/variants",
            "description": "Get all variants for a specific product"
          }
        },
        {
          "name": "Search Variants",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/variants/search?productId={{product_id}}&minPrice=100&maxPrice=1000&inStock=true",
            "description": "Search product variants with filters"
          }
        },
        {
          "name": "Get Variant Details",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/variants/{{variant_id}}",
            "description": "Get detailed information about a specific variant"
          }
        },
        {
          "name": "Check Product Availability",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/products/{{product_id}}/availability?variantId={{variant_id}}&quantity=2",
            "description": "Check product/variant availability and stock"
          }
        }
      ]
    },
    {
      "name": "üè´ Schools",
      "item": [
        {
          "name": "Public Routes",
          "item": [
            {
              "name": "Search Schools",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    if (response.data && response.data.schools && response.data.schools.length > 0) {",
                      "        pm.collectionVariables.set('school_id', response.data.schools[0].id);",
                      "    }",
                      "    pm.test('Response has schools array', function () {",
                      "        pm.expect(response.data).to.have.property('schools');",
                      "        pm.expect(response.data.schools).to.be.an('array');",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools?page=1&limit=10&search=Delhi&city=Delhi&state=Delhi&type=public&board=CBSE&sortBy=name&sortOrder=asc",
                "description": "Search schools with comprehensive filters including name, location, type, and board"
              }
            },
            {
              "name": "Get School Statistics",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/stats?city=Mumbai&type=private&timeframe=30d",
                "description": "Get school statistics and metrics with optional filters"
              }
            },
            {
              "name": "Get Popular Schools",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/popular?limit=10&city=Mumbai",
                "description": "Get popular schools with optional city filter"
              }
            },
            {
              "name": "Get Nearby Schools",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/nearby?lat=19.0760&lng=72.8777&radius=5&limit=10",
                "description": "Get schools near a location using geolocation with radius in kilometers"
              }
            },
            {
              "name": "Validate School Data",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/schools/validate",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Delhi Public School\",\n  \"type\": \"private\",\n  \"board\": \"CBSE\",\n  \"address\": {\n    \"line1\": \"Sector 45\",\n    \"city\": \"Gurgaon\",\n    \"state\": \"Haryana\",\n    \"postalCode\": \"122003\",\n    \"country\": \"India\"\n  },\n  \"city\": \"Gurgaon\",\n  \"state\": \"Haryana\",\n  \"country\": \"India\",\n  \"postalCode\": \"122003\",\n  \"phone\": \"+91-9876543210\",\n  \"email\": \"info@dps.edu.in\"\n}"
                },
                "description": "Validate school data before creation - utility endpoint for form validation"
              }
            },
            {
              "name": "Get Schools by City",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/city/Mumbai?page=1&limit=20&type=private&board=CBSE",
                "description": "Get all schools in a specific city with optional filters"
              }
            },
            {
              "name": "Get School Details",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/{{school_id}}",
                "description": "Get detailed information about a specific school including products, analytics, and partnerships"
              }
            },
            {
              "name": "Get School Analytics",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/{{school_id}}/analytics",
                "description": "Get analytics and statistics for a specific school"
              }
            },
            {
              "name": "Get School Product Catalog",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/schools/{{school_id}}/catalog?page=1&limit=20&grade=10th&productType=bookset",
                "description": "Get school's product catalog with pricing and availability"
              }
            }
          ]
        },
        {
          "name": "School Management (Protected)",
          "item": [
            {
              "name": "Create School",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    const response = pm.response.json();",
                      "    if (response.data && response.data.school) {",
                      "        pm.collectionVariables.set('school_id', response.data.school.id);",
                      "    }",
                      "    pm.test('School created successfully', function () {",
                      "        pm.expect(response.success).to.be.true;",
                      "        pm.expect(response.data.school).to.have.property('id');",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "url": "{{api_base}}/schools",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Green Valley International School\",\n  \"type\": \"private\",\n  \"board\": \"IB\",\n  \"address\": {\n    \"line1\": \"Plot No. 123, Sector 18\",\n    \"line2\": \"Near City Mall\",\n    \"city\": \"Noida\",\n    \"state\": \"Uttar Pradesh\",\n    \"postalCode\": \"201301\",\n    \"country\": \"India\"\n  },\n  \"city\": \"Noida\",\n  \"state\": \"Uttar Pradesh\",\n  \"country\": \"India\",\n  \"postalCode\": \"201301\",\n  \"contact\": {\n    \"phone\": \"+91-9876543210\",\n    \"email\": \"info@greenvalley.edu.in\",\n    \"website\": \"https://greenvalley.edu.in\"\n  },\n  \"phone\": \"+91-9876543210\",\n  \"email\": \"info@greenvalley.edu.in\"\n}"
                },
                "description": "Create a new school (admin only)"
              }
            },
            {
              "name": "Update School",
              "request": {
                "method": "PUT",
                "url": "{{api_base}}/schools/{{school_id}}",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Green Valley International School - Updated\",\n  \"board\": \"IB\",\n  \"phone\": \"+91-9876543211\",\n  \"email\": \"updated@greenvalley.edu.in\",\n  \"contact\": {\n    \"phone\": \"+91-9876543211\",\n    \"email\": \"updated@greenvalley.edu.in\",\n    \"website\": \"https://new.greenvalley.edu.in\"\n  }\n}"
                },
                "description": "Update school information (admin only)"
              }
            },
            {
              "name": "Deactivate School",
              "request": {
                "method": "DELETE",
                "url": "{{api_base}}/schools/{{school_id}}",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"School permanently closed\"\n}"
                },
                "description": "Deactivate (soft delete) a school (admin only)"
              }
            },
            {
              "name": "Reactivate School",
              "request": {
                "method": "PATCH",
                "url": "{{api_base}}/schools/{{school_id}}/reactivate",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Reactivate a previously deactivated school (admin only)"
              }
            },
            {
              "name": "Bulk Import Schools",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/schools/bulk-import",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"schools\": [\n    {\n      \"name\": \"ABC International School\",\n      \"type\": \"private\",\n      \"board\": \"CBSE\",\n      \"address\": {\n        \"line1\": \"123 Main St\",\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"postalCode\": \"400001\",\n        \"country\": \"India\"\n      },\n      \"city\": \"Mumbai\",\n      \"state\": \"Maharashtra\",\n      \"country\": \"India\",\n      \"postalCode\": \"400001\",\n      \"phone\": \"+91-9876543210\",\n      \"email\": \"info@abc.edu.in\"\n    },\n    {\n      \"name\": \"XYZ Public School\",\n      \"type\": \"public\",\n      \"board\": \"State Board\",\n      \"address\": {\n        \"line1\": \"456 School Road\",\n        \"city\": \"Delhi\",\n        \"state\": \"Delhi\",\n        \"postalCode\": \"110001\",\n        \"country\": \"India\"\n      },\n      \"city\": \"Delhi\",\n      \"state\": \"Delhi\",\n      \"country\": \"India\",\n      \"postalCode\": \"110001\",\n      \"phone\": \"+91-9876543211\",\n      \"email\": \"info@xyz.edu.in\"\n    }\n  ]\n}"
                },
                "description": "Bulk import multiple schools from CSV/JSON data (admin only)"
              }
            }
          ]
        },
        {
          "name": "Product Association Management",
          "item": [
            {
              "name": "Associate Product with School",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/schools/{{school_id}}/products/{{product_id}}",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"grade\": \"10th\",\n  \"mandatory\": true\n}"
                },
                "description": "Associate a product with a school for a specific grade"
              }
            },
            {
              "name": "Update Product Association",
              "request": {
                "method": "PUT",
                "url": "{{api_base}}/schools/{{school_id}}/products/{{product_id}}/10th",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"mandatory\": false\n}"
                },
                "description": "Update product association settings (mandatory flag, etc.)"
              }
            },
            {
              "name": "Remove Product Association",
              "request": {
                "method": "DELETE",
                "url": "{{api_base}}/schools/{{school_id}}/products/{{product_id}}?grade=10th",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Remove product association from school (optionally for specific grade)"
              }
            }
          ]
        },
        {
          "name": "Partnership Management",
          "item": [
            {
              "name": "Create School Partnership",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/schools/{{school_id}}/partnerships",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"partnerName\": \"ABC Educational Supplies\",\n  \"partnerType\": \"supplier\",\n  \"contactEmail\": \"partnership@abc-supplies.com\",\n  \"contactPhone\": \"+91-9876543210\",\n  \"description\": \"Official supplier for textbooks and stationery\",\n  \"metadata\": {\n    \"contractStart\": \"2024-04-01\",\n    \"contractEnd\": \"2025-03-31\",\n    \"discount\": \"15%\"\n  }\n}"
                },
                "description": "Create a partnership between school and supplier/retailer"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üõí Orders & Cart",
      "item": [
        {
          "name": "Cart Management",
          "item": [
            {
              "name": "Get Cart",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/orders/cart",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Get current user's cart with items and totals"
              }
            },
            {
              "name": "Add Item to Cart",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/orders/cart/items",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"productId\": \"{{product_id}}\",\n  \"quantity\": 2,\n  \"schoolId\": \"{{school_id}}\",\n  \"grade\": \"Class 10\"\n}"
                },
                "description": "Add a product to cart with specified quantity"
              }
            },
            {
              "name": "Update Cart Item",
              "request": {
                "method": "PUT",
                "url": "{{api_base}}/orders/cart/items/item-1",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"quantity\": 3\n}"
                },
                "description": "Update quantity of an item in cart"
              }
            },
            {
              "name": "Remove Cart Item",
              "request": {
                "method": "DELETE",
                "url": "{{api_base}}/orders/cart/items/item-1",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Remove an item from cart"
              }
            },
            {
              "name": "Clear Cart",
              "request": {
                "method": "DELETE",
                "url": "{{api_base}}/orders/cart",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Remove all items from cart"
              }
            }
          ]
        },
        {
          "name": "Order Management",
          "item": [
            {
              "name": "Create Order",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    const response = pm.response.json();",
                      "    if (response.data && response.data.id) {",
                      "        pm.collectionVariables.set('order_id', response.data.id);",
                      "    }",
                      "    pm.test('Order created successfully', function () {",
                      "        pm.expect(response.success).to.be.true;",
                      "        pm.expect(response.data).to.have.property('orderNumber');",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "url": "{{api_base}}/orders",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"shippingAddressId\": \"{{address_id}}\",\n  \"billingAddressId\": \"{{address_id}}\",\n  \"paymentMethod\": \"razorpay\",\n  \"notes\": \"Please deliver during office hours\"\n}"
                },
                "description": "Create order from current cart items"
              }
            },
            {
              "name": "Get User Orders",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/orders?page=1&limit=10&status=pending",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Get paginated list of user's orders"
              }
            },
            {
              "name": "Get Order Details",
              "request": {
                "method": "GET",
                "url": "{{api_base}}/orders/{{order_id}}",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "description": "Get detailed information about a specific order"
              }
            },
            {
              "name": "Update Order",
              "request": {
                "method": "PUT",
                "url": "{{api_base}}/orders/{{order_id}}",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"shippingAddressId\": \"{{address_id}}\",\n  \"notes\": \"Updated delivery instructions\"\n}"
                },
                "description": "Update order details (only for pending orders)"
              }
            },
            {
              "name": "Cancel Order",
              "request": {
                "method": "POST",
                "url": "{{api_base}}/orders/{{order_id}}/cancel",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{access_token}}"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Changed mind about purchase\"\n}"
                },
                "description": "Cancel an order"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üë®‚Äçüíº Admin - User Management",
      "item": [
        {
          "name": "Search Users",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/admin/search?q=john&page=1&limit=20&role=customer",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Search users (admin only)"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/admin/{{user_id}}",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Get any user's profile (admin only)"
          }
        },
        {
          "name": "Update User Role",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/users/admin/{{user_id}}/role",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"retailer\"\n}"
            },
            "description": "Update user role (admin only)"
          }
        },
        {
          "name": "Reactivate User Account",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/users/admin/{{user_id}}/reactivate",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Reactivate a deactivated user account (admin only)"
          }
        },
        {
          "name": "Export Users",
          "request": {
            "method": "GET",
            "url": "{{api_base}}/users/admin/export?format=csv&role=customer",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Export users data (admin only)"
          }
        }
      ]
    },
    {
      "name": "üîß Admin - Product Variants",
      "item": [
        {
          "name": "Create Product Variant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.variant) {",
                  "        pm.collectionVariables.set('variant_id', response.data.variant.id);",
                  "    }",
                  "    pm.test('Variant created successfully', function () {",
                  "        pm.expect(response.success).to.be.true;",
                  "        pm.expect(response.data.variant).to.have.property('id');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{api_base}}/products/{{product_id}}/variants",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sku\": \"PROD-VAR-001\",\n  \"price\": 299.99,\n  \"compareAtPrice\": 349.99,\n  \"stock\": 100,\n  \"weight\": 0.5,\n  \"optionValue1\": \"option-value-uuid-1\",\n  \"optionValue2\": \"option-value-uuid-2\",\n  \"metadata\": {\n    \"size\": \"Medium\",\n    \"color\": \"Blue\"\n  }\n}"
            },
            "description": "Create a new product variant (admin only)"
          }
        },
        {
          "name": "Update Product Variant",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/products/variants/{{variant_id}}",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 279.99,\n  \"compareAtPrice\": 329.99,\n  \"stock\": 75,\n  \"metadata\": {\n    \"size\": \"Medium\",\n    \"color\": \"Red\",\n    \"updated\": true\n  }\n}"
            },
            "description": "Update variant details (admin only)"
          }
        },
        {
          "name": "Update Variant Stock",
          "request": {
            "method": "PATCH",
            "url": "{{api_base}}/products/variants/{{variant_id}}/stock",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 50,\n  \"operation\": \"set\"\n}"
            },
            "description": "Update variant stock (operations: set, increment, decrement)"
          }
        },
        {
          "name": "Bulk Update Variant Stocks",
          "request": {
            "method": "PUT",
            "url": "{{api_base}}/products/variants/bulk-stock-update",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"updates\": [\n    {\n      \"variantId\": \"{{variant_id}}\",\n      \"quantity\": 25,\n      \"operation\": \"increment\"\n    },\n    {\n      \"variantId\": \"variant-id-2\",\n      \"quantity\": 100,\n      \"operation\": \"set\"\n    }\n  ]\n}"
            },
            "description": "Bulk update multiple variant stocks (admin only)"
          }
        },
        {
          "name": "Delete Product Variant",
          "request": {
            "method": "DELETE",
            "url": "{{api_base}}/products/variants/{{variant_id}}",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "description": "Delete a product variant (admin only)"
          }
        },
        {
          "name": "Add Product Option",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/products/{{product_id}}/options",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Size\",\n  \"position\": 1,\n  \"isRequired\": true\n}"
            },
            "description": "Add product option attribute (e.g., Size, Color)"
          }
        },
        {
          "name": "Add Option Value",
          "request": {
            "method": "POST",
            "url": "{{api_base}}/products/options/attribute-id/values",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": \"Large\",\n  \"sortOrder\": 3\n}"
            },
            "description": "Add option value (e.g., Small, Medium, Large for Size)"
          }
        }
      ]
    },
    {
      "name": "üîß Testing Utilities",
      "item": [
        {
          "name": "Clear All Variables",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.collectionVariables.set('access_token', '');",
                  "pm.collectionVariables.set('refresh_token', '');",
                  "pm.collectionVariables.set('user_id', '');",
                  "pm.collectionVariables.set('order_id', '');",
                  "pm.collectionVariables.set('product_id', '');",
                  "pm.collectionVariables.set('school_id', '');",
                  "pm.collectionVariables.set('address_id', '');",
                  "pm.collectionVariables.set('variant_id', '');",
                  "console.log('All variables cleared');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": "{{base_url}}/health",
            "description": "Utility request to clear all collection variables"
          }
        },
        {
          "name": "Show Current Variables",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "console.log('Current Collection Variables:');",
                  "console.log('access_token:', pm.collectionVariables.get('access_token') || 'Not set');",
                  "console.log('refresh_token:', pm.collectionVariables.get('refresh_token') || 'Not set');",
                  "console.log('user_id:', pm.collectionVariables.get('user_id') || 'Not set');",
                  "console.log('order_id:', pm.collectionVariables.get('order_id') || 'Not set');",
                  "console.log('product_id:', pm.collectionVariables.get('product_id') || 'Not set');",
                  "console.log('school_id:', pm.collectionVariables.get('school_id') || 'Not set');",
                  "console.log('address_id:', pm.collectionVariables.get('address_id') || 'Not set');",
                  "console.log('variant_id:', pm.collectionVariables.get('variant_id') || 'Not set');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": "{{base_url}}/health",
            "description": "Utility request to show all current collection variables"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global pre-request script - runs before every request",
          "console.log('Making request to:', pm.request.url);",
          "",
          "// Auto-refresh token if it's expired (optional)",
          "// This can be implemented based on your token expiration logic"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script - runs after every request",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "// Log response for debugging",
          "if (pm.response.code >= 400) {",
          "    console.log('Error Response:', pm.response.text());",
          "}"
        ]
      }
    }
  ]
}